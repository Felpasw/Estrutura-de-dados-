#include <stdlib.h>
#include <stdio.h>

// -------------------- Variáveis globais
int *ptr, size;
int topo;
//--------------------- Prototipagens 
void AddElemento();
void RemovElemento();
void MostraPrimeiroElemento();
void MostraUltimoElemento();
void BuscarElemnto();
void ListarElemento();
//-------------------- Main
int main() {
	int op;	 
	topo = -1;


	printf("Digite o tamanho da sua pilha ");
	scanf("%d", &size);
	ptr = (int *) malloc(size * sizeof(int));
	
	do {

	printf("Digite o que deseja fazer com ela:"); 
	printf("\n 1.Adicionar elemento na pilha."); 
	printf("\n 2.Remover elemento da pilha."); 
	printf("\n 3.Mostrar o primeiro elemento da pilha."); 
	printf("\n 4.Mostrar o último elemento da pilha."); 
	printf("\n 5.Buscar elemento na pilha.");
	printf("\n 6.Listar os elementos da pilha");
	printf("\n Sair");
	scanf("%d", &op);
	} while(op<0 || op>7);
	
	
	switch(op){
	case 1: 
	AddElemento();
	break;
	
	case 2:
	RemovElemento();
	break;
	
	case 3:
	MostraPrimeiroElemento();
	break;
	
	case 4:
	MostraUltimoElemento();
	break;
	
	case 5:
	BuscarElemnto();
	break;
	
	case 6:
	ListarElemento();
	break;
	
	case 7:
	printf("Ok, saindo :)");
	}
	
	return 0;
}


//------------------------------------------------------ Adiciona elementos 
void AddElemento(){
	char j;
	if(topo == size-1){
	printf("Opa, a pilha ta cheia. \n Retornando ao menu...");
	main();
}
	else{

do{ 
	topo++;
	printf("Ok, coloque o elemento que deseja: \n ");
	scanf("%d", &ptr[topo]);
	
	printf("\n Deseja sair? (s/n)");
	scanf("%c", &j);
	} while( j = "s" || topo <= size-1 );

	printf("Opa, a pilha encheu ou você optou por sair \n Voltando ao menu...");
	main();

}
}



//------------------------------------------------------ Remove elementos 
void RemovElemento(){
char j;
int cu, i;

	if(topo = -1){
	printf("Opa, a pilha ta vazia. \n Retornando ao menu...");
	main();
}
	else{
	
	do{ 
	
	printf("Ok, remova o elemento que deseja: \n ");
	scanf("%d", &cu);
	
	for(i=0; i<=topo; i++){
		
		if(cu == ptr[i]){
			ptr[i] = 0;
			topo--;
		}
		else{
			printf("Número inválido, digite novamente.");
			RemovElemento();
		}
		
	}
	printf("Deseja sair? (s/n)");
	scanf("%c", &j);
	} while( j = "s" || topo != -1);
	printf("Opa, a pilha encheu ou você optou por sair \n Voltando ao menu...");
	main();

	
}
}

//--------------------------------------------------- Mostrar primeiro elemento

 void MostraPrimeiroElemento (){
	 if(topo = -1){
	printf("Nenhum elemento digitado até o momento!");
	main();
	}
	 else{
		printf(" Primeiro elemento digitado: %d \n", ptr[0]);
	}
	
}
//------------------------------------------------------ Buscar elementos 

void BuscarElemnto(){
	int i, cubusc;
	char ja;
	printf("Digite o número para procura: ");
	scanf("%d", &cubusc);
	
	 for(i = 0; i<=topo; i++) {
		if(cubusc == ptr[i]){
			printf("Achamos o canalha! \n Posição: %d \n Elemento: %d", i, ptr[i]);
		}
		printf("Continuar?(s/n)");
		scanf("%c", ja);
	}
	
	if(ja == 's'){
		BuscarElemnto();
	 }
	 else{
	 	main();
	 }
	 
}
//------------------------------------------------------ Mostrar Último elemento
void MostraUltimoElemento () {
	if(topo = -1){
		printf("Nenhum elemento digitado até o momento!");
		main();
	}
	else{
		printf("Último elemento inserido: %d \n", ptr[topo]);
	}
}
//------------------------------------------------------
void ListarElemento(){
	int i;
	if(topo = -1){
		printf("Nenhum elemento digitado até o momento!");
		main();
	}
	
	else{
		for( i = 0; i<=topo; i++) {
			printf("%d \n", ptr[i]);
		}
	}
}


//------------------------------------------------------ Fodase sexo






